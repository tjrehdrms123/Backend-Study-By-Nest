# MySQL 스토리지 엔진 정리

## InnoDB의 특징

대규모 OLTP 환경에서 많은 트랜잭션 처리와 동시성을 필요로 하는 애플리케이션에 적합한 데이터베이스 엔진입니다.

OLTP `Online Transaction Processing`의 약어로, 실시간으로 트랜잭션을 처리하는 환경을 가리킵니다.

InnoDB에서 지원하는 ACID의 특성과 트랜잭션 정리
- [트랜잭션과 ACID 설명](./트랜잭션이란.md)

### 행 레벨 잠금
InnoDB는 `행 레벨의 잠금(locking)`을 사용하여 동시성을 높입니다.

다중 사용자가 동일한 테이블에 동시에 접근할 때, 특정 행만 잠기기 때문에 다른 트랜잭션들은 그 외의 행에 대한 작업을 동시에 수행할 수 있습니다.

### 버퍼 풀 캐시

InnoDB는 디스크에서 데이터를 읽거나 쓸 때, 메모리에 캐시하는데 이용되는 영역을 `버퍼 풀 캐시`라고 합니다.

버퍼 풀 캐시는 데이터와 인덱스 페이지를 메모리에 유지하고, 빠른 읽기 및 쓰기 작업을 제공합니다.

데이터 액세스의 지연 시간을 줄이고 디스크 I/O를 최소화하여 데이터베이스의 성능을 향상시킵니다.

### 자동 증가(Auto-Increment) 컬럼

InnoDB는 자동 증가 컬럼을 지원하여, 테이블에 새로운 레코드를 삽입할 때마다 자동으로 증가하는 값을 할당합니다.

이는 주로 고유 식별자(primary key) 컬럼에 사용되며, 간단한 방법으로 고유한 값을 생성할 수 있습니다.

### 외래 키 제약 조건

InnoDB는 외래 키(Foreign Key) 제약 조건을 지원합니다.

이를 통해 테이블 간의 관계를 정의하고 관계형 데이터베이스의 참조 무결성을 강화할 수 있습니다.

예를 들어, 부모 테이블의 행을 삭제하려 할 때 해당 행을 참조하는 자식 테이블의 행도 자동으로 삭제`(onDelete cascade)`하거나 제한할 수 있습니다.

### 복구 기능

InnoDB는 트랜잭션 로그와 체크포인트 메커니즘을 사용하여 데이터의 지속성을 보장하고 장애 시 데이터베이스를 복구할 수 있습니다.

이를 통해 데이터 손실을 최소화하고 시스템의 안정성을 유지할 수 있습니다.

### 클러스터화된 인덱스(Clustered Index)

InnoDB의 기본적인 테이블 구조는 클러스터화된 인덱스를 사용합니다.

이는 테이블의 기본 키(primary key)에 대한 인덱스와 실제 데이터를 묶어서 저장하는 방식입니다.

이를 통해 기본 키를 기반으로한 검색과 정렬 작업이 빠르게 수행됩니다.

### 저장 공간 관리

InnoDB는 테이블과 인덱스의 저장 공간 관리를 효율적으로 수행합니다. 불필요한 공간을 최소화하고 데이터를 압축하거나 정리하여 디스크 공간을 효율적으로 활용합니다.

## MyISAM의 특징

MyISAM은 `MySQL 5.5 이전 버전의 기본 엔진`이었으나, 현재는 `InnoDB로 대체`되었습니다.

`테이블 레벨의 잠금(locking)`을 사용하여 동시 쓰기 작업에 제약이 있습니다.
풀 텍스트 검색 기능과 함께 대량의 읽기 작업이 필요한 OLAP(온라인 분석 처리) 환경에 적합합니다.
ACID 특성을 지원하지 않으며, 데이터 무결성과 복구 기능에 제한이 있습니다.

### Memory (Heap)의 특징

데이터를 메모리에 저장하므로 빠른 읽기와 쓰기 성능을 제공합니다.

휘발성 데이터를 처리하는 데 유용하며, 재시작 시 데이터가 초기화됩니다.

ACID 특성을 지원하지 않으며, 데이터 무결성과 복구 기능에 제한이 있습니다.

### Archive

압축된 형식으로 데이터를 저장하여 디스크 공간을 절약합니다.

쓰기 작업은 지원하지 않고 읽기 작업에 최적화되어 있습니다.

로그 데이터와 같이 장기 보관이 필요한 데이터에 적합합니다.

### NDB (MySQL Cluster)

분산 클러스터링을 지원하여 고가용성과 확장성을 제공합니다.

여러 노드에 데이터를 분산하여 처리하므로 대량의 트랜잭션 처리와 높은 처리량을 지원합니다.

ACID 특성을 지원하며, 장애 복구 기능도 강화되어 있습니다.

InnoDB보다 복잡한 설정이 필요하고, 일부 SQL 문법 제한이 있을 수 있습니다.

이외에도 MariaDB는 MySQL의 분기 버전으로, InnoDB를 기본 엔진으로 사용하면서 MySQL과 호환되는 많은 특징을 가지고 있습니다.

MariaDB에는 XtraDB 엔진이 기본 InnoDB 엔진의 개선된 버전으로 포함되어 있습니다.